---
apiVersion: v1
kind: Secret
metadata:
  name: virtual-garden-etcd-main-backup-local
  namespace: garden
type: Opaque
stringData:
  hostPath: "~/.garden/local-backupbuckets"
---
apiVersion: v1
kind: Secret
metadata:
  name: garden-dns-local
  namespace: garden
type: Opaque
---
apiVersion: operator.gardener.cloud/v1alpha1
kind: Garden
metadata:
  name: local
spec:
  dns:
    providers:
    - name: primary
      type: local
      secretRef:
        name: garden-dns-local
  runtimeCluster:
    ingress:
      domains:
      - name: ingress.runtime-garden.local.gardener.cloud
        provider: primary
      controller:
        kind: nginx
    networking:
      nodes:
      - {{ gardener_operator_nodes_cidr }}
      pods:
      - {{ gardener_operator_pods_cidr }}
      services:
      - {{ gardener_operator_services_cidr }}
    provider:
      region: local
      zones:
      - "1"
    settings:
      verticalPodAutoscaler:
        enabled: true
      topologyAwareRouting:
        enabled: false
  virtualCluster:
    dns:
      domains:
      - name: virtual-garden.local.gardener.cloud
        provider: primary
    etcd:
      main:
        # backup:
        #   provider: local
        #   secretRef:
        #     name: virtual-garden-etcd-main-backup-local
        storage:
          capacity: 25Gi
      events:
        storage:
          capacity: 10Gi
    kubernetes:
      version: 1.32.5
    gardener:
      clusterIdentity: local
      gardenerAPIServer:
        admissionPlugins:
        - name: ShootVPAEnabledByDefault
      gardenerDashboard: {}
      gardenerDiscoveryServer: {}
    maintenance:
      timeWindow:
        begin: 220000+0100
        end: 230000+0100
    networking:
      services:
      - 100.64.0.0/13
